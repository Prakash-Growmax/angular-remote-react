"use strict";(this.webpackChunkReactDashboard=this.webpackChunkReactDashboard||[]).push([[787],{787:(e,t,a)=>{a.r(t),a.d(t,{default:()=>J});var r=a(47951),n=a(78717),l=a(42151),c=a(33551),o=a(34339),s=a(23437),m=a(1775),i=a(72205),h=a(51629),u=a(4785),d=a(56239),E=a(71543),y=a(77037),v=a(46831),g=a(30799),p=a(37071),A=a(64012),w=a.n(A),f=a(44653),x=a(45721),b=a(69107),C=a(77984),P=a(23495),S=a(4763),B=a(89607),F=a(86279),k=a(62209),D=a(63161),j=a(72050),L=a(88224),I=a(15344),R=a(77437);const T=async()=>{try{const e=await fetch("https://jsonplaceholder.typicode.com/posts");return await e.json(),[{name:"Jan",value:4e3},{name:"Feb",value:3e3},{name:"Mar",value:2e3},{name:"Apr",value:2780},{name:"May",value:1890},{name:"Jun",value:2390},{name:"Jul",value:3490}]}catch(e){throw new Error("Failed to fetch sales data")}},W=async()=>{try{const e=await fetch("https://jsonplaceholder.typicode.com/comments");return await e.json(),[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}]}catch(e){throw new Error("Failed to fetch traffic data")}},K=async()=>{try{const e=await fetch("https://jsonplaceholder.typicode.com/todos");return await e.json(),[{name:"Group A",value:400},{name:"Group B",value:300},{name:"Group C",value:300},{name:"Group D",value:200}]}catch(e){throw new Error("Failed to fetch pie data")}},G=async()=>{try{const e=await fetch("https://jsonplaceholder.typicode.com/users");return await e.json(),[{title:"Total Revenue",value:"$23,500",change:"+12%"},{title:"Total Users",value:"1,245",change:"+15%"},{title:"New Visitors",value:"4,128",change:"+8%"},{title:"Bounce Rate",value:"32%",change:"-3%"}]}catch(e){throw new Error("Failed to fetch stats")}},J=()=>{const e=(0,R.A)();console.log("ğŸš€ ~ Dashboard ~ userData:",e);const[t,a]=(0,A.useState)([]),[J,N]=(0,A.useState)([]),[$,M]=(0,A.useState)([]),[O,U]=(0,A.useState)([]),[V,_]=(0,A.useState)(!0),[q,z]=(0,A.useState)(null),[H,Q]=(0,A.useState)(null),[X,Y]=(0,A.useState)(!1),[Z,ee]=(0,A.useState)((()=>{try{const e=localStorage.getItem("dashboardChartPrefs");return e?JSON.parse(e):{showLineChart:!0,showPieChart:!0,showBarChart:!0}}catch(e){return console.error("Error reading localStorage:",e),{showLineChart:!0,showPieChart:!0,showBarChart:!0}}})),te=["#0088FE","#00C49F","#FFBB28","#FF8042"];(0,A.useEffect)((()=>{try{localStorage.setItem("dashboardChartPrefs",JSON.stringify(Z))}catch(e){console.error("Error saving to localStorage:",e)}}),[Z]),(0,A.useEffect)((()=>{(async()=>{_(!0);try{const[e,t,r,n]=await Promise.all([T(),W(),K(),G()]);a(e),N(t),M(r),U(n),z(null)}catch(e){z("Failed to fetch dashboard data")}finally{_(!1)}})()}),[]);const ae=e=>{ee((t=>({...t,[e]:!t[e]})))},re=()=>{Y(!1),Q(null)};return V?w().createElement(r.A,{sx:{mt:4,display:"flex",justifyContent:"center"}},w().createElement(n.A,null)):q?w().createElement(r.A,{sx:{mt:4}},w().createElement(l.A,{severity:"error"},q)):w().createElement(r.A,{maxWidth:"lg",sx:{mt:4,mb:4}},w().createElement(c.A,{variant:"h4",component:"h1",gutterBottom:!0},"Dashboard Overview"," ",e?.user_category?`of ${e?.user_category}`:""),w().createElement(o.A,{sx:{p:2,mb:4}},w().createElement(s.Ay,{container:!0,spacing:2,alignItems:"center"},w().createElement(s.Ay,{item:!0,xs:12,sm:8},w().createElement(c.A,{variant:"h6",gutterBottom:!0},"Chart Visibility"),w().createElement(s.Ay,{container:!0,spacing:2},w().createElement(s.Ay,{item:!0},w().createElement(m.A,{control:w().createElement(i.A,{checked:Z.showLineChart,onChange:()=>ae("showLineChart")}),label:"Monthly Sales"})),w().createElement(s.Ay,{item:!0},w().createElement(m.A,{control:w().createElement(i.A,{checked:Z.showPieChart,onChange:()=>ae("showPieChart")}),label:"Revenue by Category"})),w().createElement(s.Ay,{item:!0},w().createElement(m.A,{control:w().createElement(i.A,{checked:Z.showBarChart,onChange:()=>ae("showBarChart")}),label:"Website Traffic"})))),w().createElement(s.Ay,{item:!0,xs:12,sm:4,sx:{textAlign:"right"}},w().createElement(h.A,{variant:"contained",onClick:async()=>{try{const e=await(async()=>{try{const e=await fetch("https://jsonplaceholder.typicode.com/posts/1");return await e.json()}catch(e){throw new Error("Failed to fetch sample data")}})();Q(e),Y(!0)}catch(e){z("Failed to fetch sample API data")}},sx:{mt:2}},"Test API Call")))),w().createElement(s.Ay,{container:!0,spacing:3,sx:{mb:4}},O.map(((e,t)=>w().createElement(s.Ay,{item:!0,xs:12,sm:6,md:3,key:t},w().createElement(u.A,null,w().createElement(d.A,null,w().createElement(c.A,{variant:"h6",component:"div",color:"text.secondary"},e.title),w().createElement(c.A,{variant:"h4",component:"div",sx:{mt:1}},e.value),w().createElement(c.A,{variant:"body2",sx:{color:e.change.startsWith("+")?"success.main":"error.main",mt:1}},e.change," from last month"))))))),w().createElement(s.Ay,{container:!0,spacing:3},Z.showLineChart&&w().createElement(s.Ay,{item:!0,xs:12,md:8},w().createElement(o.A,{sx:{p:2,display:"flex",flexDirection:"column",height:340}},w().createElement(c.A,{variant:"h6",gutterBottom:!0},"Monthly Sales"),w().createElement(E.A,{sx:{mb:2}}),w().createElement(f.u,{width:"100%",height:"100%"},w().createElement(x.b,{data:t,margin:{top:5,right:30,left:20,bottom:5}},w().createElement(b.d,{strokeDasharray:"3 3"}),w().createElement(C.W,{dataKey:"name"}),w().createElement(P.h,null),w().createElement(S.m,null),w().createElement(B.s,null),w().createElement(F.N,{type:"monotone",dataKey:"value",stroke:"#8884d8",activeDot:{r:8}}))))),Z.showPieChart&&w().createElement(s.Ay,{item:!0,xs:12,md:4},w().createElement(o.A,{sx:{p:2,display:"flex",flexDirection:"column",height:340}},w().createElement(c.A,{variant:"h6",gutterBottom:!0},"Revenue by Category"),w().createElement(E.A,{sx:{mb:2}}),w().createElement(f.u,{width:"100%",height:"100%"},w().createElement(k.r,null,w().createElement(D.F,{data:$,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a}=e;return`${t}: ${(100*a).toFixed(0)}%`},outerRadius:80,fill:"#8884d8",dataKey:"value"},$.map(((e,t)=>w().createElement(j.f,{key:`cell-${t}`,fill:te[t%te.length]})))),w().createElement(S.m,null))))),Z.showBarChart&&w().createElement(s.Ay,{item:!0,xs:12},w().createElement(o.A,{sx:{p:2,display:"flex",flexDirection:"column",height:400}},w().createElement(c.A,{variant:"h6",gutterBottom:!0},"Website Traffic"),w().createElement(E.A,{sx:{mb:2}}),w().createElement(f.u,{width:"100%",height:"100%"},w().createElement(L.E,{data:J,margin:{top:5,right:30,left:20,bottom:5}},w().createElement(b.d,{strokeDasharray:"3 3"}),w().createElement(C.W,{dataKey:"name"}),w().createElement(P.h,null),w().createElement(S.m,null),w().createElement(B.s,null),w().createElement(I.y,{dataKey:"pv",fill:"#8884d8"}),w().createElement(I.y,{dataKey:"uv",fill:"#82ca9d"})))))),w().createElement(y.A,{open:X,onClose:re,maxWidth:"sm",fullWidth:!0},w().createElement(v.A,null,"Sample API Response"),w().createElement(g.A,null,H?w().createElement(o.A,{sx:{p:2}},w().createElement(c.A,{variant:"h6"},"Post #",H.id),w().createElement(c.A,{variant:"subtitle1",gutterBottom:!0},"Title: ",H.title),w().createElement(c.A,{variant:"body2"},"Body: ",H.body)):w().createElement(c.A,null,"No data available")),w().createElement(p.A,null,w().createElement(h.A,{onClick:re},"Close"))))}},77437:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(64012);function n(){const[e,t]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(()=>{try{if(window?.SecureTokenProvider?.getUserLoggedInData){const e=window.SecureTokenProvider.getUserLoggedInData();t(e)}}catch(e){console.error("Error fetching user data:",e)}})();const e=e=>{t(e.detail)};return window.addEventListener("user-data-changed",e),()=>{window.removeEventListener("user-data-changed",e)}}),[]),e}}}]);